


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'2022.1-1.5',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.2. Hardware Architecture of the Platform" href="arch-hw.html" />
    <link rel="prev" title="5. Architecture" href="../arch.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Versal Base TRD
          

          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../revision.html">1. Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../run.html">3. Run the Prebuilt Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">4. Build an Image</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../arch.html">5. Architecture</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.1. Software Architecture of the Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">5.1.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video-capture">5.1.2. Video Capture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#media-source-bin-gstreamer-plugin">5.1.2.1. Media Source Bin GStreamer Plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#driver-architecture">5.1.2.2. Driver Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#media-framework">5.1.2.3. Media Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v4l2-framework">5.1.2.4. V4L2 Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="#video-ip-drivers">5.1.2.5. Video IP Drivers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#display">5.1.3. Display</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kms-sink-gstreamer-plugin">5.1.3.1. KMS Sink GStreamer Plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#libdrm">5.1.3.2. Libdrm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#drm-kms-kernel-subsystem">5.1.3.3. DRM/KMS Kernel Subsystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#direct-rendering-manager">5.1.3.4. Direct Rendering Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-mode-setting">5.1.3.5. Kernel Mode Setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#crtc">5.1.3.6. CRTC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plane">5.1.3.7. Plane</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encoder">5.1.3.8. Encoder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connector">5.1.3.9. Connector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#audio">5.1.4. Audio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#alsa-source-and-sink-gstreamer-plugins">5.1.4.1. ALSA Source and Sink GStreamer Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alsa-lib">5.1.4.2. Alsa-lib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alsa-kernel-subsystem">5.1.4.3. ALSA Kernel Subsystem</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gstreamer">5.1.5. GStreamer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plugins">5.1.5.1. Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#capabilities">5.1.5.2. Capabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipeline-control">5.1.5.3. Pipeline Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#allocators">5.1.5.4. Allocators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arch-hw.html">5.2. Hardware Architecture of the Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch-filter2d.html">5.3. Accelerator - 2D Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch-xvdpu.html">5.4. Accelerator - XVDPU</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../known-issues.html">6. Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">7. Support</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/arch/arch-sw.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Versal Base TRD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../arch.html">5. Architecture</a> &raquo;</li>
        
      <li>5.1. Software Architecture of the Platform</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/arch/arch-sw.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-architecture-of-the-platform">
<h1>5.1. Software Architecture of the Platform<a class="headerlink" href="#software-architecture-of-the-platform" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>5.1.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes the application processing unit (APU) Linux
software stack. The stack and vertical domains are shown in the
following figure.</p>
<div class="figure" id="id1">
<a class="reference internal image-reference" href="../_images/sw-stack.jpg"><img alt="APU Linux Software Stack and Vertical Domains" src="../_images/sw-stack.jpg" style="width: 1000px;" /></a>
<p class="caption"><span class="caption-text">Linux Software Stack and Vertical Domains</span></p>
</div>
<p>The stack is horizontally divided into the following layers:</p>
<ul class="simple">
<li>Application layer (user-space)<ul>
<li>Jupyter notebooks with a simple control and visualization
interface</li>
<li>GStreamer multimedia framework with python bindings for video
pipeline control</li>
</ul>
</li>
<li>Middleware layer (user-space)<ul>
<li>Implements and exposes domain-specific functionality by means of
GStreamer plugins to interface with the application layer</li>
<li>Provides access to kernel frameworks</li>
</ul>
</li>
<li>Operating system (OS) layer (kernel-space)<ul>
<li>Provides a stable, well-defined API to user-space</li>
<li>Includes device drivers and kernel frameworks (subsystems)</li>
<li>Access to hardware IPs</li>
</ul>
</li>
</ul>
<p>Vertically, the software components are divided by domain:</p>
<ul class="simple">
<li>Video capture</li>
<li>Codec</li>
<li>Accelerator</li>
<li>Display</li>
<li>Audio</li>
</ul>
<p>The subsequent chapters describe the components of each vertical domain first and cover
application layer components next.</p>
</div>
<div class="section" id="video-capture">
<h2>5.1.2. Video Capture<a class="headerlink" href="#video-capture" title="Permalink to this headline">¶</a></h2>
<p>The Video Capture software stack is depicted in the following figure
using the single-sensor MIPI CSI capture pipeline as an example</p>
<div class="figure" id="id2">
<img alt="Video Capture Software Stack" src="../_images/video_capture.png" />
<p class="caption"><span class="caption-text">Video Capture Software Stack</span></p>
</div>
<p>At a high level it consists of the following layers from top to bottom:</p>
<ul class="simple">
<li>User-space layers<ul>
<li>GStreamer: Media source bin plugin (wrapper around generic v4l2src
plugin)</li>
<li>Media controller: Library to configure v4l subdevices and media
devices</li>
</ul>
</li>
<li>Kernel-space layers<ul>
<li>V4L2/Media subsystems: Xilinx video IP pipeline (XVIPP) driver</li>
<li>DMA engine: Xilinx framebuffer driver</li>
</ul>
</li>
</ul>
<div class="section" id="media-source-bin-gstreamer-plugin">
<h3>5.1.2.1. Media Source Bin GStreamer Plugin<a class="headerlink" href="#media-source-bin-gstreamer-plugin" title="Permalink to this headline">¶</a></h3>
<p>The mediasrcbin plugin is designed to simplify the usage of live video
capture devices in this design, otherwise the user must take care of
initialization and configuration. The plugin is a bin element that
includes the standard v4l2src GStreamer element. It configures the media
pipelines of the supported video sources in this design.</p>
<p>The v4l2src element inside the mediasrcbin element interfaces with the V4L2 Linux
framework and the Xilinx VIPP driver through the video device node. The
mediasrcbin element interfaces with the Media Controller Linux framework
through the v412-subdev and media device nodes which allows you to
configure the media pipeline and its sub-devices. It uses the
libmediactl and libv4l2subdev libraries which provide the following
functionality:</p>
<ul class="simple">
<li>Enumerate entities, pads and links</li>
<li>Configure sub-devices<ul>
<li>Set media bus format</li>
<li>Set dimensions (width/height)</li>
<li>Set frame rate</li>
<li>Export sub-device controls</li>
</ul>
</li>
</ul>
<p>The mediasrcbin plugin sets the media bus format and resolution on each
sub-device source and sink pad for the entire media pipeline. The
formats between pads that are connected through links need to match.
Refer to the Media Framework section below for more information on
entities, pads and links.</p>
<div class="section" id="kernel-subsystems">
<h4>5.1.2.1.1. Kernel Subsystems<a class="headerlink" href="#kernel-subsystems" title="Permalink to this headline">¶</a></h4>
<p>In order to model and control video capture pipelines such as the ones
used in this TRD on Linux systems, multiple kernel frameworks and APIs
are required to work in concert. For simplicity, we refer to the overall
solution as Video4Linux (V4L2) although the framework only provides part
of the required functionality. The individual components are discussed
in the following sections.</p>
</div>
</div>
<div class="section" id="driver-architecture">
<h3>5.1.2.2. Driver Architecture<a class="headerlink" href="#driver-architecture" title="Permalink to this headline">¶</a></h3>
<p>The Video Capture Software Stack figure in the Capture section shows how
the generic V4L2 driver model of a video pipeline is mapped to the
single-sensor MIPI CSI-2 Rx capture pipelines. The video pipeline driver
loads the necessary sub-device drivers and registers the device nodes it
needs, based on the video pipeline configuration specified in the device
tree. The framework exposes the following device node types to user
space to control certain aspects of the pipeline:</p>
<ul class="simple">
<li>Media device node: /dev/media*</li>
<li>Video device node: /dev/video*</li>
<li>V4L2 sub-device node: /dev/v4l-subdev*</li>
</ul>
</div>
<div class="section" id="media-framework">
<h3>5.1.2.3. Media Framework<a class="headerlink" href="#media-framework" title="Permalink to this headline">¶</a></h3>
<p>The main goal of the media framework is to discover the device topology
of a video pipeline and to configure it at run-time. To achieve this,
pipelines are modeled as an oriented graph of building blocks called entities connected through pads.</p>
<p>An entity is a basic media hardware building block. It can correspond to a large variety of blocks such as
physical hardware devices (e.g. image sensors), logical hardware devices
(e.g. soft IP cores inside the PL), DMA channels or physical connectors.
Physical or logical devices are modeled as sub-device nodes and DMA
channels as video nodes.</p>
<p>A pad is a connection endpoint through which an entity can interact with other entities. Data produced by an entity
flows from the entity’s output to one or more entity inputs. A link is a
point-to-point oriented connection between two pads, either on the same
entity or on different entities. Data flows from a source pad to a sink
pad.</p>
<p>A media device node is created that allows the user space
application to configure the video pipeline and its sub-devices through
the libmediactl and libv4l2subdev libraries. The media controller API
provides the following functionality:</p>
<ul class="simple">
<li>Enumerate entities, pads and links</li>
<li>Configure pads<ul>
<li>Set media bus format</li>
<li>Set dimensions (width/height)</li>
</ul>
</li>
<li>Configure links</li>
<li>Enable/disable</li>
<li>Validate formats</li>
</ul>
<p>The following figures show the media graphs for MIPI CSI-2 Rx (single-sensor
and quad-sensor) as well as the HDMI Rx video capture pipeline as generated
by the media-ctl utility. The subdevices are shown in green with their corresponding control interface base
address and subdevice node in the center. The numbers on the edges are
pads and the solid arrows represent active links. The yellow boxes are
video nodes that correspond to DMA channels, in this case write channels
(outputs).</p>
<div class="figure" id="id3">
<img alt="Video Capture Media Pipeline: Single MIPI CSI-2 RX" src="../_images/single_graph.png" />
<p class="caption"><span class="caption-text">Video Capture Media Pipeline: Single MIPI CSI-2 RX</span></p>
</div>
<div class="figure" id="id4">
<img alt="Video Capture Media Pipeline: Quad MIPI CSI-2 RX" src="../_images/quad_graph.png" />
<p class="caption"><span class="caption-text">Video Capture Media Pipeline: Quad MIPI CSI-2 RX</span></p>
</div>
<div class="figure" id="id5">
<img alt="Video Capture Media Pipeline: HDMI RX" src="../_images/hdmi_graph.png" />
<p class="caption"><span class="caption-text">Video Capture Media Pipeline: HDMI RX</span></p>
</div>
</div>
<div class="section" id="v4l2-framework">
<h3>5.1.2.4. V4L2 Framework<a class="headerlink" href="#v4l2-framework" title="Permalink to this headline">¶</a></h3>
<p>The V4L2 framework is responsible for capturing video frames at the video device node, typically
representing a DMA channel, and making those video frames available to user space.
The framework consists of multiple sub-components that provide certain functionality.</p>
<p>Before video frames can be captured, the buffer type and pixel format need to be set using the
VIDOC_S_FMT ioctl. On success the driver can program the hardware, allocate resources, and
generally prepare for data exchange. Optionally, you can set additional control parameters on
V4L devices and sub-devices. The V4L2 control framework provides ioctls for many commonly
used, standard controls such as brightness and contrast.</p>
<p>The videobuf2 API implements three basic buffer types but only physically contiguous memory is
supported in this driver because of the hardware capabilities of the Frame Buffer Write IP.
Videobuf2 provides a kernel internal API for buffer allocation and management as well as a userspace
facing API. VIDIOC_QUERYCAP and VIDIOC_REQBUFS ioctls are used to determine the
I/O mode and memory type. In this design, the streaming I/O mode in combination with the
DMABUF memory type is used.</p>
<p>DMABUF is dedicated to sharing DMA buffers between different devices, such as V4L devices or
other video-related devices such as a DRM display device (see the GStreamer Pipeline Control
section). In DMABUF, buffers are allocated by a driver on behalf of an application. These buffers
are exported to the application as file descriptors.</p>
<p>For capture applications, it is customary to queue a number of empty buffers using the
VIDIOC_QBUF ioctl. The application waits until a filled buffer can be de-queued with the
VIDIOC_DQBUF ioctl and re-queues the buffer when the data is no longer needed. To start and
stop capturing applications, the VIDIOC_STREAMON and VIDIOC_STREAMOFF ioctls are used.</p>
<p>The ioctls for buffer management, format and stream control are implemented inside the v4l2src
plugin and the application developer does not need to know the implementation details.</p>
</div>
<div class="section" id="video-ip-drivers">
<h3>5.1.2.5. Video IP Drivers<a class="headerlink" href="#video-ip-drivers" title="Permalink to this headline">¶</a></h3>
<p>Xilinx adopted the V4L2 framework for most of its video IP portfolio.
The currently supported video IPs and corresponding drivers are listed
under V4L2. Each V4L driver has a sub-page that lists driver-specific
details and provides pointers to additional documentation. The following
table provides a quick overview of the drivers used in this design.</p>
<p>Table : V4L2 Drivers Used in Capture Pipelines</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Linux Driver</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Xilinx Video Pipeline (XVIPP)</td>
<td><ul class="first last simple">
<li>Configures video pipeline and register media, video and sub-device nodes.</li>
<li>Configures all entities in the pipeline and validate links.</li>
<li>Configures and controls DMA engines (Xilinx Video Framebuffer Write).</li>
<li>Starts/stops video stream.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Xilinx Video Processing Subsystem
(Scaler Only configuration)</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on output pad. (Output configuration can be different from the input configuration as
the block enables color space conversion and scaling).</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>MIPI CSI-2 Rx</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on output pad.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Xilinx Video Image Signal Processing
(ISP)</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on output pad.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Sony IMX274 Image Sensor</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on output pad.</li>
<li>Sets sensor control parameters: exposure, gain, test pattern, vertical flip.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>OnSemi AR0231 Image Sensor</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on output pad.</li>
<li>Sets sensor control parameters: exposure, gain, test pattern, h/v flip, r/g/b balance.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>MAX9286 GMSL Deserializer</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on output pad.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>AXI-Stream Switch</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on output pad.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>HDR Extract</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on input pad.</li>
<li>Sets media bus format and resolution on two output pads.</li>
<li>Configure HDR Extract IP and stream data to produce Short Exposure Frame (SEF) and Long Exposre Frames(LEF).</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>HDR Merge</td>
<td><ul class="first last simple">
<li>Sets media bus format and resolution on two input pads.</li>
<li>Sets media bus format and resolution on output pad.</li>
<li>Configure HDR Merge IP and stream data to produce a single HDR Frame from SEF and LEF.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>HDMI Rx Subsystem</td>
<td><ul class="first last simple">
<li>Query digital video (DV) timings on output pad.</li>
<li>Sets media bus format and resolution on output pad.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="display">
<h2>5.1.3. Display<a class="headerlink" href="#display" title="Permalink to this headline">¶</a></h2>
<p>The Display software stack is depicted in the following figure.</p>
<div class="figure" id="id6">
<img alt="Display Software Stack" src="../_images/display_stack.png" />
<p class="caption"><span class="caption-text">Display Software Stack</span></p>
</div>
<p>At a high-level it consists of the following layers from top to bottom which are further described in the next sections:</p>
<ul class="simple">
<li>User-space layers<ul>
<li>GStreamer: KMS sink plugin</li>
<li>libdrm: DRM user-space library</li>
</ul>
</li>
<li>Kernel-space layers<ul>
<li>DRM/KMS subsystem: Xilinx DRM driver</li>
<li>DMA engine: Xilinx framebuffer driver</li>
</ul>
</li>
</ul>
<div class="section" id="kms-sink-gstreamer-plugin">
<h3>5.1.3.1. KMS Sink GStreamer Plugin<a class="headerlink" href="#kms-sink-gstreamer-plugin" title="Permalink to this headline">¶</a></h3>
<p>The kmssink element interfaces with the DRM/KMS Linux framework and the Xilinx DRM driver
through the libdrm library and the dri-card device node.</p>
<p>The kmssink element library uses the libdrm library to configure the cathode ray tube controller
(CRTC) based on the monitor’s extended display identification data (EDID) information with the
video resolution of the display. It also configures plane properties such as the alpha value.</p>
</div>
<div class="section" id="libdrm">
<h3>5.1.3.2. Libdrm<a class="headerlink" href="#libdrm" title="Permalink to this headline">¶</a></h3>
<p>The DRM/KMS framework exposes two device nodes to user space: the /dev/dri/card* device
node and an emulated /dev/fb* device node for backward compatibility with the legacy fbdev
Linux framework. The latter is not used in this design. libdrm was created to facilitate the
interface of user space programs with the DRM subsystem. This library is merely a wrapper that
provides a function written in C for every ioctl of the DRM API, as well as constants, structures
and other helper elements. The use of libdrm not only avoids exposing the kernel interface
directly to user space, but presents the usual advantages of reusing and sharing code between
programs.</p>
</div>
<div class="section" id="drm-kms-kernel-subsystem">
<h3>5.1.3.3. DRM/KMS Kernel Subsystem<a class="headerlink" href="#drm-kms-kernel-subsystem" title="Permalink to this headline">¶</a></h3>
<p>Linux kernel and user-space frameworks for display and graphics are intertwined and the
software stack can be quite complex with many layers and different standards/APIs. On the
kernel side, the display and graphics portions are split with each having their own APIs. However,
both are commonly referred to as a single framework: DRM/KMS.</p>
<p>This split is advantageous, especially for SoCs that often have dedicated hardware blocks for
display and graphics. The display pipeline driver responsible for interfacing with the display uses
the kernel mode setting (KMS) API and the GPU responsible for drawing objects into memory
uses the direct rendering manager (DRM) API. Both APIs are accessed from user-space through a
single device node.</p>
<p>A brief overview of the DRM is provided but the focus is on KMS as there is no GPU present in
the design.</p>
</div>
<div class="section" id="direct-rendering-manager">
<h3>5.1.3.4. Direct Rendering Manager<a class="headerlink" href="#direct-rendering-manager" title="Permalink to this headline">¶</a></h3>
<p>The Xilinx DRM driver uses the GEM (Graphics Execution Manager) memory manager and
implements DRM PRIME buffer sharing. PRIME is the cross-device buffer sharing framework in
DRM. To user-space PRIME buffers are DMABUF-based file descriptors. The DRM GEM/CMA
helpers use the Continuous Memory Access (CMA) allocator as a means to provide buffer objects
that are physically contiguous in memory. This is useful for display drivers that are unable to map
scattered buffers via an I/O memory management unit (IOMMU).</p>
<p>Frame buffers are abstract memory objects that provide a source of pixels to scan out to a CRTC.
Applications explicitly request the creation of frame buffers and receive an opaque handle that
can be passed to the KMS CRTC control, plane configuration, and page flip functions.</p>
</div>
<div class="section" id="kernel-mode-setting">
<h3>5.1.3.5. Kernel Mode Setting<a class="headerlink" href="#kernel-mode-setting" title="Permalink to this headline">¶</a></h3>
<p>Mode setting is an operation that sets the display mode including video
resolution and refresh rate. It was traditionally done in user-space by
the X-server which caused a number of issues due to accessing low-level
hardware from user-space which, if done wrong, can lead to system
instabilities. The mode setting API was added to the kernel DRM
framework, hence the name kernel mode setting.</p>
<p>The KMS API is responsible for handling the frame buffer and planes, setting the mode, and
performing page-flips (switching between buffers). The KMS device is modeled as a set of planes,
CRTCs, encoders, and connectors as shown in the Display Software Stack figure in the Display
section. The figure also shows how the driver model maps to the physical hardware components
inside the HDMI Tx display pipeline</p>
</div>
<div class="section" id="crtc">
<h3>5.1.3.6. CRTC<a class="headerlink" href="#crtc" title="Permalink to this headline">¶</a></h3>
<p>CRTC is an antiquated term that stands for cathode ray tube controller, which today would be
simply named display controller as CRT monitors have disappeared and many other display types
are available. The CRTC is an abstraction that is responsible for composing the frame to be
scanned out to the display and setting the mode of the display.</p>
<p>In the Xilinx DRM driver, the CRTC is represented by the video mixer. The bottom-most plane is
the primary plane (or master layer) and configured statically in the device-tree. The primary plane
always matches the currently configured display resolution set by the CRTC (width and height)
with X- and Y-offsets set to 0. The primary plane can be overlayed with up to eight overlay
planes inside the video mixer.</p>
</div>
<div class="section" id="plane">
<h3>5.1.3.7. Plane<a class="headerlink" href="#plane" title="Permalink to this headline">¶</a></h3>
<p>In this design, the primary plane can be overlayed and/or alpha-blended with up to eight
additional planes inside the video mixer. The z-order (foreground or background position) of the
planes is fixed. The global alpha mode can be configured per plane through the driver by means
of custom KMS properties: an alpha value of 0% (or 0) means the layer is fully transparent
(invisible); an alpha value of 100% (or 255) means that the layer is fully opaque.</p>
<p>Each overlay plane’s width, height, X- and Y-offset is run-time programmable relative to the
primary plane or CRTC which determines the display resolution. The pixel formats of the primary
plane as well as the eight overlay planes are fixed: one BGR plane (primary) plus four YUY2
planes (overlay) plus four BGR planes (overlay) from bottom to top.</p>
<p>The Xilinx DRM driver supports the universal plane feature, therefore the primary plane and
overlay planes can be configured through the same API. A page-flip is the operation that
configures a plane with the new buffer index to be selected for the next scan-out. The new
buffer is prepared while the current buffer is being scanned out and the flip typically happens
during vertical blanking to avoid image tearing.</p>
</div>
<div class="section" id="encoder">
<h3>5.1.3.8. Encoder<a class="headerlink" href="#encoder" title="Permalink to this headline">¶</a></h3>
<p>An encoder takes pixel data from a CRTC and converts it to a format suitable for any attached
connectors. There are many different display protocols defined, such as HDMI and DisplayPort.
This design uses an HDMI transmitter implemented in the PL which sends the encoded video
data to the HDMI GT Controller and PHY. The PHY serializes the data using the GTY transceivers
in the PL before it goes out via the HDMI Tx connector on the board.</p>
</div>
<div class="section" id="connector">
<h3>5.1.3.9. Connector<a class="headerlink" href="#connector" title="Permalink to this headline">¶</a></h3>
<p>The connector models the physical interface to the display. The
HDMI protocols use a query mechanism to receive data
about the monitor resolution, and refresh rate by reading the extended
display identification data (EDID) (see VESA Standard ) stored inside
the monitor. This data can then be used to correctly set the CRTC mode.
HDMI also supports hot-plug events to detect if a cable has been
connected or disconnected as well as handling display power management
signaling (DPMS) power modes.</p>
</div>
</div>
<div class="section" id="audio">
<h2>5.1.4. Audio<a class="headerlink" href="#audio" title="Permalink to this headline">¶</a></h2>
<p>Audio Advanced Linux Sound Architecture (ALSA) arranges hardware audio
devices and their components into a hierarchy of cards, devices, and
subdevices. It reflects the capabilities of the hardware as seen by
ALSA.</p>
<p>ALSA cards correspond one-to-one to hardware sound cards. A card
can be denoted by its ID or by a numerical index starting at zero. ALSA
hardware access occurs at the device level. The devices of each card are
enumerated starting from zero.</p>
<p>The audio software stack is depicted in the following figure.</p>
<div class="figure" id="id7">
<img alt="Audio Sfotware Stack" src="../_images/audio_stack.png" />
<p class="caption"><span class="caption-text">Audio Software Stack</span></p>
</div>
<p>At a high-level the audio software stack consists of the following
layers from top to bottom:</p>
<ul class="simple">
<li>User-space layers<ul>
<li>GStreamer: alsasrc and alsasink plugins</li>
<li>Alsa-lib: ALSA user-space library</li>
</ul>
</li>
<li>Kernel-space layers<ul>
<li>ALSA: Xilinx ALSA ASoC driver</li>
</ul>
</li>
</ul>
<div class="section" id="alsa-source-and-sink-gstreamer-plugins">
<h3>5.1.4.1. ALSA Source and Sink GStreamer Plugins<a class="headerlink" href="#alsa-source-and-sink-gstreamer-plugins" title="Permalink to this headline">¶</a></h3>
<p>The alsasrc plugin reads audio data from an audio card and the alsasink
plugin renders audio samples using the ALSA API. The audio device is
specified by means of the device property referring to the ALSA device
as defined in an asound configuration file.</p>
</div>
<div class="section" id="alsa-lib">
<h3>5.1.4.2. Alsa-lib<a class="headerlink" href="#alsa-lib" title="Permalink to this headline">¶</a></h3>
<p>The ALSA library API is the interface to the ALSA drivers. Developers need to use the
functions in this API to achieve native ALSA support for their
applications. The currently designed interfaces are as follows:</p>
<ul class="simple">
<li>Information Interface (/proc/asound)</li>
<li>Control Interface (/dev/snd/controlCX)</li>
<li>Mixer Interface (/dev/snd/mixerCXDX)</li>
<li>PCM Interface (/dev/snd/pcmCXDX)</li>
<li>Raw MIDI Interface (/dev/snd/midiCXDX)</li>
<li>Sequencer Interface (/dev/snd/seq)</li>
<li>Timer Interface (/dev/snd/timer)</li>
</ul>
<p>For more information, refer to
<a class="reference external" href="https://www.alsa-project.org/alsa-doc/alsa-lib/">https://www.alsa-project.org/alsa-doc/alsa-lib/</a>.</p>
</div>
<div class="section" id="alsa-kernel-subsystem">
<h3>5.1.4.3. ALSA Kernel Subsystem<a class="headerlink" href="#alsa-kernel-subsystem" title="Permalink to this headline">¶</a></h3>
<p>A sound card, encapsulating playback and capture devices will be visible as single entity to the
end user. There can be many playback and capture devices within a sound card and there can be
multiple sound cards in a system.</p>
<p>The Machine driver creates a pipeline out of the ALSA drivers. This glue or DAI (Digital Audio
Interface) link is made using registered device names or device nodes (using OF kernel
framework). Each proper DAI link results as a device in a sound card. A sound card is thus a
logical grouping of several such devices.</p>
<p>The Audio Formatter driver creates the platform device for the sound card. While creating the
device, it passes the HDMI device tree node of either I2S/HDMI/SDI/SPDIF depending on the
kind of sound card being created. When the sound card driver detects the kind of audio node
(I2S/HDMI/SDI/SPDIF), the proper DAI link is selected from the available links.</p>
<p>HDMI Rx receives the data from the HDMI source and separates audio from the video content.
The Xilinx Audio Formatter converts this AES data to PCM data and stores it in memory. HDMI
TX gets the AES data from the Audio Formatter and embeds it into video.</p>
<p>The AES format contains PCM and channel status information. The Audio Formatter IP separates
non-audio content such as channel status and stores it in registers. The Audio Formatter driver
can parse the content of channel status to get audio parameters.</p>
<p>A dummy CPU DAI driver is used as there needs to be a CPU DAI to be registered with ASoC
framework. Codec DAI will be part of HDMI Tx and Rx video drivers, as those provide and
consume the digital audio data.</p>
<p>In this TRD design, a sound card is created with a record device for the HDMI-RX capture
pipeline and a playback device for the HDMI-TX playback pipeline. The supported parameters
are:</p>
<ul class="simple">
<li>Sampling rate: 48 kHz</li>
<li>Sample width: 24 bits per sample</li>
<li>Sample encoding: Little endian</li>
<li>Number of channels: 2</li>
<li>Supported format: S24_32LE</li>
</ul>
</div>
</div>
<div class="section" id="gstreamer">
<h2>5.1.5. GStreamer<a class="headerlink" href="#gstreamer" title="Permalink to this headline">¶</a></h2>
<p>GStreamer is a cross-platform open source multimedia framework that provides infrastructure to
integrate multiple multimedia components and create pipelines/graphs. GStreamer graphs are
made of two or more plugin elements which are delivered as shared libraries. The following is a
list of commonly performed tasks in the GStreamer framework:</p>
<ul class="simple">
<li>Selection of a source GStreamer plugin</li>
<li>Selection of a processing VVAS plugin</li>
<li>Selection of a sink GStreamer plugin</li>
<li>Creation of a GStreamer graph based on above plugins plus capabilities</li>
<li>Configuration of properties of above GStreamer plugins</li>
<li>Control of a GStreamer pipeline/graph</li>
</ul>
<div class="section" id="plugins">
<h3>5.1.5.1. Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h3>
<p>The following GStreamer plugin categories are used in this design:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Source</dt>
<dd><ul class="first last">
<li>mediasrcbin: V4l2 sources such as USB webcam, MIPI single-sensor, MIPI quad-sensor</li>
<li>multisrc/filesrc: video file source for raw or encoded image/video files</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Sink</dt>
<dd><ul class="first last">
<li>kmssink: KMS display sink for HDMI Tx</li>
<li>filesink: video file sink for raw or encoded image/video files</li>
<li>appsink: sink that makes video buffers available to an application such as the display inside jupyter notebooks</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Encode/decode</dt>
<dd><ul class="first last">
<li>jpegenc/dec: jpg image file encode/decode</li>
<li>vp9enc/dec: vp9 video file encode/decode</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Processing/acceleration</dt>
<dd><ul class="first last">
<li>VVAS Infrastructure Plug-ins or VVAS Custom Plug-ins</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Other</dt>
<dd><ul class="first last">
<li>capsfilter: filters capabilities</li>
<li>tee: tee element to create a fork in the data flow</li>
<li>queue: creates separate threads between pipeline elements and adds additional buffering</li>
<li>perf: measure frames-per-seconds (fps) at an arbitrary point in the pipeline</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="capabilities">
<h3>5.1.5.2. Capabilities<a class="headerlink" href="#capabilities" title="Permalink to this headline">¶</a></h3>
<p>The pads are the element’s interface to the outside world. Data streams from one element’s
source pad to another element’s sink pad. The specific type of media that the element can handle
is exposed by the pad’s capabilities. The following capabilities are used between the video-source
plugin and its peer plugin (either video-sink or video-processing). These capabilities (also called
capsfilter) are specified while constructing a GStreamer graph, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;video/x-raw, width=&lt;width of videosrc&gt;, height=&lt;height of videosrc&gt;,format=YUY2, ramerate=&lt;fps/1&gt;&quot;</span>
</pre></div>
</div>
<p>If multisrc is used as video-source plugin, the videoparse element is used instead of a capsfilter to
parse the raw video file and transform it to frames:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;video/x-raw, width=&lt;width of videosrc&gt;, height=&lt;height of videosrc&gt;,format=YUY2, framerate=&lt;fps/1&gt;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="pipeline-control">
<h3>5.1.5.3. Pipeline Control<a class="headerlink" href="#pipeline-control" title="Permalink to this headline">¶</a></h3>
<p>The GStreamer framework is used to control the GStreamer graph. It provides the following
functionality:</p>
<ul class="simple">
<li>Start/stop video stream inside a graph</li>
<li>Get/set controls</li>
<li>Buffer operations</li>
<li>Get frames-per-second information</li>
</ul>
<p>There are four states defined in the GStreamer graph: “NULL”, “READY”, “PAUSED”, and
“PLAYING”. The “PLAYING” state of a GStreamer graph is used to start the pipeline and the
“NULL” state is to stop the pipeline.</p>
</div>
<div class="section" id="allocators">
<h3>5.1.5.4. Allocators<a class="headerlink" href="#allocators" title="Permalink to this headline">¶</a></h3>
<p>GStreamer abstracts buffer allocation and pooling. Custom allocators and buffer pools can be
implemented to accommodate custom use-cases and constraints. The video source controls
buffer allocation, but the sink can propose parameters in the negotiation phase.</p>
<p>The DMABUF framework is used to import and export buffers in a 0-copy fashion between
pipeline elements, which is required for high-performance pipelines, as shown in the following
figure. The <code class="docutils literal"><span class="pre">v4l2src</span></code>, <code class="docutils literal"><span class="pre">kmssink</span></code>, and <code class="docutils literal"><span class="pre">vvas</span></code> elements are all capable of
allocating and exporting as well as importing DMABUFs to/from their peer
elements.</p>
<div class="figure" id="id8">
<img alt="DMABUF Sharing Mechanism" src="../_images/dmabuf.png" />
<p class="caption"><span class="caption-text">DMABUF Sharing Mechanism</span></p>
</div>
<p>Note that DMABUFs are not necessarily physically contiguous depending on the underlying
kernel device driver, that is, the UVC v4l2 driver does not allocate CMA memory which results in
a data copy if its peer element can only handle contiguous memory.</p>
<hr class="docutils" />
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file
except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the
License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions
and limitations under the License.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="arch-hw.html" class="btn btn-neutral float-right" title="5.2. Hardware Architecture of the Platform" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../arch.html" class="btn btn-neutral float-left" title="5. Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on October 11, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>